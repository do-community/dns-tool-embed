{"version":3,"file":"bundle.js","sources":["../src/records.js","../src/fetch.js","../src/embed.js","../src/icons/refresh-cw.js","../src/icons/external-link.js","../src/index.js"],"sourcesContent":["/*\nCopyright 2020 DigitalOcean\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nexport default [\n    'A',\n    'TXT',\n    'MX',\n    'AAAA',\n    'CNAME',\n    'CAA',\n    'NS',\n    'SRV',\n    'DMARC',\n    'SSHFP',\n    'TLSA',\n];\n\n","/*\nCopyright 2020 DigitalOcean\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n// Get a previous result made within this current window from the cache if it exists\nconst getFromCache = (domain, type) => {\n    if (!('_DNSToolEmbedsCache' in window)) return;\n    if (!window._DNSToolEmbedsCache) return;\n    if (!(domain in window._DNSToolEmbedsCache)) return;\n    if (!window._DNSToolEmbedsCache[domain]) return;\n    if (!(type in window._DNSToolEmbedsCache[domain])) return;\n    if (!window._DNSToolEmbedsCache[domain][type]) return;\n\n    return window._DNSToolEmbedsCache[domain][type];\n};\n\n// Save this result to the window cache, so subsequent identical requests don't fire network calls\nconst saveInCache = (domain, type, result) => {\n    window._DNSToolEmbedsCache = window._DNSToolEmbedsCache || {};\n    window._DNSToolEmbedsCache[domain] = window._DNSToolEmbedsCache[domain] || {};\n    window._DNSToolEmbedsCache[domain][type] = [result, new Date()];\n\n    return window._DNSToolEmbedsCache[domain][type];\n};\n\n/**\n * Make a request to Cloudflare's DoH Resolver JSON API for a given domain and type.\n * This will use a cached value if present within the current window unless cacheBypass has a truthy value.\n *\n * @param {String} domain The domain to fetch the record type for.\n * @param {String} type The DNS record type to fetch results for.\n * @param {Boolean} [cacheBypass=false] If the window-based cache for results should be bypassed.\n * @returns {Promise<[String|Array, Date]>}\n */\nexport default async (domain, type, cacheBypass = false) => {\n    // If in the cache, use that result\n    const cache = getFromCache(domain, type);\n    if (!cacheBypass && cache !== undefined) return cache;\n\n    // Make the request\n    const response = await fetch(\n        `https://cloudflare-dns.com/dns-query?name=${encodeURIComponent(domain)}&type=${encodeURIComponent(type)}`,\n        {\n            headers: {\n                Accept: 'application/dns-json',\n            },\n        },\n    );\n    if (!response || !response.ok)\n        return saveInCache(domain, type, 'Failed to make DNS request');\n\n    // Parse the JSON data\n    const json = await response.json().catch(() => {});\n    if (!json || !('Status' in json) || json.Status !== 0)\n        return saveInCache(domain, type, 'Failed to parse DNS response');\n\n    return saveInCache(domain, type, Array.isArray(json.Answer) ? json.Answer : []);\n};\n","/*\nCopyright 2023 DigitalOcean\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nimport records from './records.js';\nimport fetch from './fetch.js';\nimport refreshIcon from './icons/refresh-cw.js';\nimport externalLinkIcon from './icons/external-link.js';\n\nexport default class DNSEmbed {\n    /**\n     * Create a new DNS Embed from a valid DNS Embed div element.\n     *\n     * @param {HTMLDivElement} element The source div element from which to run the DNS Embed.\n     */\n    constructor(element) {\n        // Save the elm\n        this.element = element;\n\n        // Save the data\n        this.domain = element.getAttribute('data-dns-domain');\n        this.types = element.getAttribute('data-dns-types').split(',')\n            .map(type => type.trim().toUpperCase()).filter(type => records.includes(type));\n        if (!this.types.length) this.types = ['A'];\n\n        // Remove the data\n        element.removeAttribute('data-dns-tool-embed');\n        element.removeAttribute('data-dns-domain');\n        element.removeAttribute('data-dns-types');\n\n        // Prep results store\n        this.results = {};\n    }\n\n    /**\n     * Fetches DNS responses for all required types for the given domain, and renders the results as HTML.\n     *\n     * @param {Boolean} [cacheBypass=false] If the window-based cache for results should be bypassed.\n     * @returns {Promise<void>}\n     */\n    async fetch(cacheBypass = false) {\n        // Get all the data\n        await Promise.all(this.types.map(async type => {\n            this.results[type] = await fetch(this.domain, type, cacheBypass);\n        }));\n\n        // Container\n        this.element.innerHTML = '';\n        this.element.style.border = '1px solid #e5e5e5';\n        this.element.style.borderRadius = '3px';\n        this.element.style.margin = '16px 0';\n        this.element.style.padding = '10px';\n\n        // Heading\n        const heading = document.createElement('h4');\n        heading.textContent = `DNS lookup for ${this.domain}`;\n        heading.style.fontSize = '15px';\n        heading.style.margin = '0 0 20px';\n        this.element.appendChild(heading);\n\n        // Render the content\n        this.content().forEach(div => this.element.appendChild(div));\n        this.element.appendChild(this.button());\n    }\n\n    /**\n     * Get the HTML content for the DNS Embed, based on the stored results.\n     *\n     * @private\n     * @returns {HTMLDivElement[]}\n     */\n    content() {\n        return Object.entries(this.results).sort(a => records.indexOf(a[0])).map(([type, results]) => {\n            const div = document.createElement('div');\n\n            // Heading\n            const heading = document.createElement('h5');\n            heading.textContent = `${type} records`;\n            heading.style.fontSize = '15px';\n            heading.style.margin = '10px 0 0';\n            div.appendChild(heading);\n\n            // Refresh\n            const refresh = document.createElement('a');\n            refresh.style.display = 'inline-block';\n            refresh.style.border = 'none';\n            refresh.style.cursor = 'pointer';\n            refresh.style.margin = '0 0 0 5px';\n            refresh.innerHTML = refreshIcon;\n            refresh.firstElementChild.style.display = 'inline-block';\n            refresh.firstElementChild.style.margin = '0 0 -1px';\n            refresh.firstElementChild.style.verticalAlign = 'baseline';\n            refresh.firstElementChild.className = '';\n            refresh.firstElementChild.removeAttribute('width');\n            refresh.firstElementChild.setAttribute('height', '12px');\n            refresh.addEventListener('click', () => {\n                refresh.style.display = 'none';\n                this.fetch(true).then(() => {});\n            });\n            heading.appendChild(refresh);\n\n            // Date\n            const date = document.createElement('p');\n            date.textContent = `Last fetched ${results[1].toLocaleString()}`;\n            date.style.color = '#333';\n            date.style.display = 'none';\n            date.style.fontSize = '11px';\n            date.style.margin = '0';\n            div.appendChild(date);\n\n            // Show date when hovering on heading (or date)\n            let overHeading = false, overDate = false;\n            const leave = () => { if (!overHeading && !overDate) date.style.display = 'none'; };\n            heading.addEventListener('mouseenter', () => { overHeading = true; date.style.display = ''; });\n            date.addEventListener('mouseenter', () => { overDate = true; date.style.display = ''; });\n            heading.addEventListener('mouseleave', () => { overHeading = false; leave(); });\n            date.addEventListener('mouseleave', () => { overDate = false; leave(); });\n\n            // Handle results\n            if (Array.isArray(results[0]) && results[0].length) {\n                // Create a container so the table doesn't overflow\n                const tableContainer = document.createElement('div');\n                tableContainer.style.overflowX = 'auto';\n                tableContainer.style.maxWidth = '100%';\n                div.appendChild(tableContainer);\n\n                // Create the table\n                const table = document.createElement('table');\n                table.style.background = 'none';\n                table.style.border = '0';\n                table.style.borderSpacing = '0';\n                table.style.margin = '5px 0';\n                table.style.tableLayout = 'unset';\n                tableContainer.appendChild(table);\n\n                const tableHeading = document.createElement('thead');\n                tableHeading.style.background = 'none';\n                table.appendChild(tableHeading);\n                const tableBody = document.createElement('tbody');\n                tableBody.style.background = 'none';\n                table.appendChild(tableBody);\n\n                // Create the table heading\n                const headingRow = document.createElement('tr');\n                tableHeading.appendChild(headingRow);\n                headingRow.appendChild(this.tableHeading('Name'));\n                headingRow.appendChild(this.tableHeading('TTL'));\n                headingRow.appendChild(this.tableHeading('Data'));\n\n                // Data\n                results[0].forEach(result => {\n                    const resultRow = document.createElement('tr');\n                    tableBody.appendChild(resultRow);\n                    resultRow.appendChild(this.tableCell(result.name));\n                    resultRow.appendChild(this.tableCell(result.TTL, true));\n                    resultRow.appendChild(this.tableCell(result.data, true));\n                });\n\n                return div;\n            }\n\n            // Error\n            const paragraph = document.createElement('p');\n            paragraph.textContent = results[0].length ? results[0].toString() : 'No records found';\n            paragraph.style.color = '#666';\n            paragraph.style.fontSize = '13px';\n            paragraph.style.margin = '5px 6px 0';\n            div.appendChild(paragraph);\n            return div;\n        });\n    }\n\n    /**\n     * Create a table heading entry for the DNS records table.\n     *\n     * @private\n     * @param {String} name The heading name to use for the cell.\n     * @returns {HTMLTableHeaderCellElement}\n     */\n    tableHeading(name) {\n        const heading = document.createElement('th');\n        heading.textContent = name;\n        heading.style.color = '#666';\n        heading.style.fontSize = '13px';\n        heading.style.fontWeight = 'normal';\n        heading.style.textAlign = 'left';\n        heading.style.padding = '2px 6px';\n        return heading;\n    }\n\n    /**\n     * Produces a table cell for DNS record data.\n     *\n     * @private\n     * @param {String} content The contents to render in the cell, as text\n     * @param {Boolean} [leftBorder=false] If the cell should render a border to the left of it\n     * @returns {HTMLTableDataCellElement}\n     */\n    tableCell(content, leftBorder = false) {\n        const cell = document.createElement('td');\n        cell.textContent = content;\n        cell.style.border = 'solid #f1f1f1';\n        cell.style.borderWidth = `2px 0 0${leftBorder ? ' 2px' : ''}`;\n        cell.style.padding = '2px 6px';\n        return cell;\n    }\n\n    /**\n     * Generate a button to perform a full DNS lookup of the given domain on the DO Community DNS Lookup tool.\n     *\n     * @private\n     * @returns {HTMLAnchorElement}\n     */\n    button() {\n        // Create the button\n        const a = document.createElement('a');\n        a.href = `https://www.digitalocean.com/community/tools/dns?domain=${encodeURIComponent(this.domain)}`;\n        a.target = '_blank';\n        a.textContent = `Perform a full DNS lookup for ${this.domain}`;\n        a.style.background = '#0069ff';\n        a.style.border = 'none';\n        a.style.borderRadius = '3px';\n        a.style.color = '#fff';\n        a.style.display = 'inline-block';\n        a.style.fontSize = '14px';\n        a.style.margin = '15px 0 0';\n        a.style.padding = '4px 12px 6px';\n        a.style.textDecoration = 'none';\n\n        // Add the external link\n        const icon = document.createElement('div');\n        icon.innerHTML = externalLinkIcon;\n        icon.firstElementChild.className = '';\n        icon.firstElementChild.removeAttribute('width');\n        icon.firstElementChild.setAttribute('height', '12px');\n        icon.firstElementChild.style.display = 'inline-block';\n        icon.firstElementChild.style.margin = '0 0 -1px 5px';\n        icon.firstElementChild.style.verticalAlign = 'baseline';\n        a.appendChild(icon.firstElementChild);\n\n        return a;\n    }\n}\n\n","export default '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-refresh-cw\"><polyline points=\"23 4 23 10 17 10\"></polyline><polyline points=\"1 20 1 14 7 14\"></polyline><path d=\"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15\"></path></svg>';\n","export default '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-external-link\"><path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"></path><polyline points=\"15 3 21 3 21 9\"></polyline><line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\"></line></svg>';\n","/*\nCopyright 2023 DigitalOcean\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nimport DNSEmbed from './embed.js';\n\nwindow._DNSToolEmbedsCache = {};\n\nwindow.DNSToolEmbeds = scope => {\n    scope = scope || document;\n\n    // Detect all valid embeds to run\n    const embedsElms = Array.from(scope.querySelectorAll('[data-dns-tool-embed][data-dns-domain][data-dns-types]'));\n\n    // Convert to DNSEmbed instances\n    const embeds = embedsElms.map(x => new DNSEmbed(x));\n\n    // Run fetch for all to generate data\n    return Promise.all(embeds.map(x => x.fetch()));\n};\n"],"names":["records","saveInCache","domain","type","result","window","_DNSToolEmbedsCache","Date","DNSEmbed","element","this","getAttribute","types","split","map","trim","toUpperCase","filter","includes","length","removeAttribute","results","_proto","prototype","fetch","cacheBypass","_this2","Promise","resolve","all","cache","getFromCache","undefined","encodeURIComponent","headers","Accept","then","response","ok","json","Status","Array","isArray","Answer","e","reject","_fetch2","innerHTML","style","border","borderRadius","margin","padding","heading","document","createElement","textContent","fontSize","appendChild","content","forEach","div","button","_this3","Object","entries","sort","a","indexOf","_ref","refresh","display","cursor","firstElementChild","verticalAlign","className","setAttribute","addEventListener","date","toLocaleString","color","overHeading","overDate","leave","tableContainer","overflowX","maxWidth","table","background","borderSpacing","tableLayout","tableHeading","tableBody","headingRow","resultRow","tableCell","name","TTL","data","paragraph","toString","fontWeight","textAlign","leftBorder","cell","borderWidth","href","target","textDecoration","icon","DNSToolEmbeds","scope","embeds","from","querySelectorAll","x"],"mappings":"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"}